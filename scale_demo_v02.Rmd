---
title: "Log Scale"
author: "Camden Blatchly"
date: "5/26/2021"
output: html_document
---

```{r setup, include=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r, include=FALSE, echo=FALSE}
source("setup.R")
library(knitr)
library(patchwork)

indicators_12 <- indicators_2012$indicator %>% unique()
subpops_12 <- indicators_2012$subpopulation %>% unique()

indicators_17 <- indicators_2017$indicator %>% unique()
subpops_17 <- indicators_2017$subpopulation %>% unique()

```


```{r fig.height=1, fig.width=10, results='asis', echo=FALSE}

for (indicator in indicators_12) {
  for (subpop in subpops_12) {
    cat("\n###### Indicator: ", indicator, " Subpop: ", subpop, " (2012 compared to 2017)\n")
    p1 <- indicator_plot(indicators_2012, subpop, indicator, measurements[indicator][[1]], scale_max[indicator][[1]]) + theme(plot.margin = unit(c(0,10,0,10), "pt"))
    p2 <- indicator_plot(indicators_2017, subpop, indicator, measurements[indicator][[1]], scale_max[indicator][[1]]) + theme(plot.margin = unit(c(0,10,0,10), "pt"))
    p <- p1 | p2
    print(p)
    cat("  \n")
  }
}

```
